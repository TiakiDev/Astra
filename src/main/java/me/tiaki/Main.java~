package me.tiaki;

import me.tiaki.commands.*;
import me.tiaki.listeners.*;
import me.tiaki.utils.CommandManager;
import net.dv8tion.jda.api.JDA;
import net.dv8tion.jda.api.JDABuilder;
import net.dv8tion.jda.api.requests.GatewayIntent;

public class Main {
    public static void main(String[] args) {

        JDA jda = JDABuilder.createDefault("MTM1MDU1MzIyNzg3MDg2MzQwMg.GxPkbA.JBm8GsgBc2M9GOUBDv9gaAoqL_CLv8DOTql-ak")
                .enableIntents(
                        GatewayIntent.MESSAGE_CONTENT,
                        GatewayIntent.GUILD_MEMBERS,
                        GatewayIntent.GUILD_MESSAGES,
                        GatewayIntent.GUILD_MODERATION,
                        GatewayIntent.GUILD_MESSAGE_TYPING
                )
                .build();

        CommandManager commandManager = new CommandManager(); //Command manager

        //rejstruje se komandy
        commandManager.add(new SetupCommand());
        commandManager.add(new ConfigCommand());
        commandManager.add(new InfoCommand());
        commandManager.add(new GiveawayCommand());
        commandManager.add(new RewardConfigCommand());
        commandManager.add(new DailyRewardCommand());
        commandManager.add(new InventoryCommand());
        commandManager.add(new RewardsCommand());

        //rejstruje se listenery
        jda.addEventListener(commandManager);
        jda.addEventListener(new TicketListener());
        jda.addEventListener(new ModalListener());
        jda.addEventListener(new InteractionListener());
        jda.addEventListener(new MemberJoinListener());
        jda.addEventListener(new ProposalListener());





    }
}